/* USER CODE BEGIN Header */
/**
  *************************************************************************************
  * @file           : phase_vocoder.h
  * @brief         : Naglowek pliku phase_vocoder.c.
  *  	Zawiera makro, pliki naglowkowe oraz prototypy funkcji pliku 
	*		phase_vocoder.c
  *************************************************************************************
  */
/* USER CODE END Header */

#ifndef __PHASE_VOCODER_H
#define __PHASE_VOCODER_H
#endif



#include "GUI.h"
#include <math.h>       // Do obliczania atan2f(), fmod()
#include "arm_math.h"
#include "arm_common_tables.h"


#define FFT_SIZE        1024
//#define FFT_SIZE        2048
//#define FFT_SIZE        512
//#define BUFFER_SIZE     (FFT_SIZE/4)
//#define BUFFER_SIZE     (FFT_SIZE/2)
#define X_OUT_RESAMPLED_SIZE (2*FFT_SIZE)
#define OUT_TEMP_BUF_SIZE       (2*FFT_SIZE)
#define ALPHA   0.5
//#define Ra      (BUFFER_SIZE/2)
#define Ra					(AUDIO_BLOCK_SIZE/2);
//#define Ra      (FFT_SIZE/8)
#define PI_2	1.5707963267
#define PI_4	0.7853981633

#define hann_window_1024_samples 	{0, 9.4308e-06, 3.7723e-05, 8.4875e-05, 0.00015089, 0.00023575, 0.00033947, 0.00046204, 0.00060345, 0.0007637, 0.00094278,\
  0.0011407, 0.0013574, 0.001593, 0.0018473, 0.0021204, 0.0024123, 0.002723, 0.0030525, 0.0034007, 0.0037676, 0.0041532, 0.0045576, 0.0049806,\
  0.0054223, 0.0058827, 0.0063617, 0.0068593, 0.0073755, 0.0079104, 0.0084637, 0.0090357, 0.0096261, 0.010235, 0.010862, 0.011508, 0.012173, 0.012855,\
  0.013556, 0.014276, 0.015014, 0.01577, 0.016544, 0.017336, 0.018147, 0.018976, 0.019823, 0.020688, 0.021572, 0.022473, 0.023392, 0.02433, 0.025285,\
  0.026258, 0.027249, 0.028258, 0.029285, 0.030329, 0.031391, 0.032471, 0.033568, 0.034683, 0.035816, 0.036966, 0.038134, 0.039319, 0.040521, 0.041741,\
  0.042978, 0.044232, 0.045503, 0.046792, 0.048098, 0.04942, 0.05076, 0.052117, 0.05349, 0.054881, 0.056288, 0.057712, 0.059153, 0.06061, 0.062084,\
  0.063574, 0.065081, 0.066604, 0.068143, 0.069699, 0.071271, 0.07286, 0.074464, 0.076084, 0.077721, 0.079373, 0.081041, 0.082725, 0.084425, 0.086141,\
  0.087872, 0.089618, 0.09138, 0.093158, 0.094951, 0.096759, 0.098582, 0.10042, 0.10227, 0.10414, 0.10603, 0.10792, 0.10984, 0.11177, 0.11371, 0.11567,\
  0.11764, 0.11962, 0.12162, 0.12364, 0.12567, 0.12771, 0.12977, 0.13184, 0.13392, 0.13602, 0.13813, 0.14026, 0.1424, 0.14455, 0.14672, 0.1489, 0.15109,\
  0.1533, 0.15552, 0.15775, 0.15999, 0.16225, 0.16452, 0.16681, 0.1691, 0.17141, 0.17373, 0.17606, 0.17841, 0.18077, 0.18314, 0.18552, 0.18791, 0.19032,\
  0.19273, 0.19516, 0.1976, 0.20005, 0.20252, 0.20499, 0.20748, 0.20997, 0.21248, 0.215, 0.21752, 0.22006, 0.22261, 0.22517, 0.22774, 0.23033, 0.23292,\
  0.23552, 0.23813, 0.24075, 0.24338, 0.24602, 0.24867, 0.25133, 0.254, 0.25668, 0.25937, 0.26206, 0.26477, 0.26748, 0.2702, 0.27294, 0.27568, 0.27843,\
  0.28118, 0.28395, 0.28672, 0.2895, 0.29229, 0.29509, 0.29789, 0.30071, 0.30353, 0.30636, 0.30919, 0.31203, 0.31488, 0.31774, 0.3206, 0.32347, 0.32635,\
  0.32923, 0.33212, 0.33502, 0.33792, 0.34083, 0.34374, 0.34666, 0.34959, 0.35252, 0.35545, 0.3584, 0.36135, 0.3643, 0.36726, 0.37022, 0.37319, 0.37616,\
  0.37914, 0.38212, 0.38511, 0.3881, 0.39109, 0.39409, 0.3971, 0.4001, 0.40311, 0.40613, 0.40915, 0.41217, 0.41519, 0.41822, 0.42125, 0.42429, 0.42732,\
  0.43036, 0.43341, 0.43645, 0.4395, 0.44255, 0.4456, 0.44865, 0.45171, 0.45477, 0.45782, 0.46089, 0.46395, 0.46701, 0.47008, 0.47314, 0.47621, 0.47928,\
  0.48235, 0.48542, 0.48848, 0.49156, 0.49463, 0.4977, 0.50077, 0.50384, 0.50691, 0.50998, 0.51305, 0.51612, 0.51919, 0.52226, 0.52532, 0.52839, 0.53146,\
  0.53452, 0.53758, 0.54065, 0.54371, 0.54676, 0.54982, 0.55288, 0.55593, 0.55898, 0.56203, 0.56507, 0.56812, 0.57116, 0.5742, 0.57723, 0.58026, 0.58329,\
  0.58632, 0.58934, 0.59236, 0.59538, 0.59839, 0.6014, 0.60441, 0.60741, 0.6104, 0.6134, 0.61639, 0.61937, 0.62235, 0.62533, 0.6283, 0.63126, 0.63422,\
  0.63718, 0.64013, 0.64307, 0.64601, 0.64895, 0.65188, 0.6548, 0.65772, 0.66063, 0.66353, 0.66643, 0.66933, 0.67221, 0.67509, 0.67796, 0.68083, 0.68369,\
  0.68654, 0.68939, 0.69223, 0.69506, 0.69788, 0.7007, 0.70351, 0.70631, 0.7091, 0.71189, 0.71467, 0.71744, 0.7202, 0.72295, 0.72569, 0.72843, 0.73116,\
  0.73388, 0.73659, 0.73929, 0.74198, 0.74466, 0.74734, 0.75, 0.75265, 0.7553, 0.75794, 0.76056, 0.76318, 0.76578, 0.76838, 0.77097, 0.77354, 0.77611,\
  0.77866, 0.78121, 0.78374, 0.78626, 0.78878, 0.79128, 0.79377, 0.79625, 0.79872, 0.80117, 0.80362, 0.80605, 0.80848, 0.81089, 0.81329, 0.81567, 0.81805,\
  0.82041, 0.82276, 0.8251, 0.82743, 0.82975, 0.83205, 0.83434, 0.83661, 0.83888, 0.84113, 0.84337, 0.84559, 0.84781, 0.85001, 0.85219, 0.85437, 0.85653,\
  0.85867, 0.86081, 0.86292, 0.86503, 0.86712, 0.8692, 0.87126, 0.87331, 0.87535, 0.87737, 0.87938, 0.88137, 0.88335, 0.88532, 0.88727, 0.8892, 0.89112,\
  0.89303, 0.89492, 0.89679, 0.89865, 0.9005, 0.90233, 0.90415, 0.90595, 0.90773, 0.9095, 0.91126, 0.913, 0.91472, 0.91643, 0.91812, 0.91979, 0.92145,\
  0.9231, 0.92473, 0.92634, 0.92794, 0.92952, 0.93108, 0.93263, 0.93416, 0.93567, 0.93717, 0.93866, 0.94012, 0.94157, 0.943, 0.94442, 0.94582, 0.9472,\
  0.94856, 0.94991, 0.95124, 0.95256, 0.95385, 0.95513, 0.9564, 0.95764, 0.95887, 0.96008, 0.96128, 0.96245, 0.96361, 0.96475, 0.96588, 0.96698, 0.96807,\
  0.96914, 0.9702, 0.97123, 0.97225, 0.97325, 0.97423, 0.9752, 0.97614, 0.97707, 0.97798, 0.97887, 0.97975, 0.9806, 0.98144, 0.98226, 0.98306, 0.98385,\
  0.98461, 0.98536, 0.98609, 0.9868, 0.98749, 0.98816, 0.98882, 0.98945, 0.99007, 0.99067, 0.99125, 0.99182, 0.99236, 0.99288, 0.99339, 0.99388, 0.99435,\
  0.9948, 0.99523, 0.99565, 0.99604, 0.99642, 0.99678, 0.99711, 0.99743, 0.99774, 0.99802, 0.99828, 0.99853, 0.99875, 0.99896, 0.99915, 0.99932, 0.99947,\
  0.9996, 0.99971, 0.99981, 0.99988, 0.99994, 0.99998, 1, 1, 0.99998, 0.99994, 0.99988, 0.99981, 0.99971, 0.9996, 0.99947, 0.99932, 0.99915, 0.99896, 0.99875,\
  0.99853, 0.99828, 0.99802, 0.99774, 0.99743, 0.99711, 0.99678, 0.99642, 0.99604, 0.99565, 0.99523, 0.9948, 0.99435, 0.99388, 0.99339, 0.99288, 0.99236, 0.99182,\
  0.99125, 0.99067, 0.99007, 0.98945, 0.98882, 0.98816, 0.98749, 0.9868, 0.98609, 0.98536, 0.98461, 0.98385, 0.98306, 0.98226, 0.98144, 0.9806, 0.97975, 0.97887,\
  0.97798, 0.97707, 0.97614, 0.9752, 0.97423, 0.97325, 0.97225, 0.97123, 0.9702, 0.96914, 0.96807, 0.96698, 0.96588, 0.96475, 0.96361, 0.96245, 0.96128, 0.96008,\
  0.95887, 0.95764, 0.9564, 0.95513, 0.95385, 0.95256, 0.95124, 0.94991, 0.94856, 0.9472, 0.94582, 0.94442, 0.943, 0.94157, 0.94012, 0.93866, 0.93717, 0.93567, 0.93416,\
  0.93263, 0.93108, 0.92952, 0.92794, 0.92634, 0.92473, 0.9231, 0.92145, 0.91979, 0.91812, 0.91643, 0.91472, 0.913, 0.91126, 0.9095, 0.90773, 0.90595, 0.90415, 0.90233,\
  0.9005, 0.89865, 0.89679, 0.89492, 0.89303, 0.89112, 0.8892, 0.88727, 0.88532, 0.88335, 0.88137, 0.87938, 0.87737, 0.87535, 0.87331, 0.87126, 0.8692, 0.86712, 0.86503,\
  0.86292, 0.86081, 0.85867, 0.85653, 0.85437, 0.85219, 0.85001, 0.84781, 0.84559, 0.84337, 0.84113, 0.83888, 0.83661, 0.83434, 0.83205, 0.82975, 0.82743, 0.8251, 0.82276,\
  0.82041, 0.81805, 0.81567, 0.81329, 0.81089, 0.80848, 0.80605, 0.80362, 0.80117, 0.79872, 0.79625, 0.79377, 0.79128, 0.78878, 0.78626, 0.78374, 0.78121, 0.77866, 0.77611,\
  0.77354, 0.77097, 0.76838, 0.76578, 0.76318, 0.76056, 0.75794, 0.7553, 0.75265, 0.75, 0.74734, 0.74466, 0.74198, 0.73929, 0.73659, 0.73388, 0.73116, 0.72843, 0.72569,\
  0.72295, 0.7202, 0.71744, 0.71467, 0.71189, 0.7091, 0.70631, 0.70351, 0.7007, 0.69788, 0.69506, 0.69223, 0.68939, 0.68654, 0.68369, 0.68083, 0.67796, 0.67509, 0.67221,\
  0.66933, 0.66643, 0.66353, 0.66063, 0.65772, 0.6548, 0.65188, 0.64895, 0.64601, 0.64307, 0.64013, 0.63718, 0.63422, 0.63126, 0.6283, 0.62533, 0.62235, 0.61937, 0.61639,\
  0.6134, 0.6104, 0.60741, 0.60441, 0.6014, 0.59839, 0.59538, 0.59236, 0.58934, 0.58632, 0.58329, 0.58026, 0.57723, 0.5742, 0.57116, 0.56812, 0.56507, 0.56203, 0.55898,\
  0.55593, 0.55288, 0.54982, 0.54676, 0.54371, 0.54065, 0.53758, 0.53452, 0.53146, 0.52839, 0.52532, 0.52226, 0.51919, 0.51612, 0.51305, 0.50998, 0.50691, 0.50384,\
  0.50077, 0.4977, 0.49463, 0.49156, 0.48848, 0.48542, 0.48235, 0.47928, 0.47621, 0.47314, 0.47008, 0.46701, 0.46395, 0.46089, 0.45782, 0.45477, 0.45171, 0.44865,\
  0.4456, 0.44255, 0.4395, 0.43645, 0.43341, 0.43036, 0.42732, 0.42429, 0.42125, 0.41822, 0.41519, 0.41217, 0.40915, 0.40613, 0.40311, 0.4001, 0.3971, 0.39409,\
  0.39109, 0.3881, 0.38511, 0.38212, 0.37914, 0.37616, 0.37319, 0.37022, 0.36726, 0.3643, 0.36135, 0.3584, 0.35545, 0.35252, 0.34959, 0.34666, 0.34374, 0.34083,\
  0.33792, 0.33502, 0.33212, 0.32923, 0.32635, 0.32347, 0.3206, 0.31774, 0.31488, 0.31203, 0.30919, 0.30636, 0.30353, 0.30071, 0.29789, 0.29509, 0.29229, 0.2895,\
  0.28672, 0.28395, 0.28118, 0.27843, 0.27568, 0.27294, 0.2702, 0.26748, 0.26477, 0.26206, 0.25937, 0.25668, 0.254, 0.25133, 0.24867, 0.24602, 0.24338, 0.24075,\
  0.23813, 0.23552, 0.23292, 0.23033, 0.22774, 0.22517, 0.22261, 0.22006, 0.21752, 0.215, 0.21248, 0.20997, 0.20748, 0.20499, 0.20252, 0.20005, 0.1976, 0.19516,\
  0.19273, 0.19032, 0.18791, 0.18552, 0.18314, 0.18077, 0.17841, 0.17606, 0.17373, 0.17141, 0.1691, 0.16681, 0.16452, 0.16225, 0.15999, 0.15775, 0.15552, 0.1533,\
  0.15109, 0.1489, 0.14672, 0.14455, 0.1424, 0.14026, 0.13813, 0.13602, 0.13392, 0.13184, 0.12977, 0.12771, 0.12567, 0.12364, 0.12162, 0.11962, 0.11764, 0.11567,\
  0.11371, 0.11177, 0.10984, 0.10792, 0.10603, 0.10414, 0.10227, 0.10042, 0.098582, 0.096759, 0.094951, 0.093158, 0.09138, 0.089618, 0.087872, 0.086141, 0.084425,\
  0.082725, 0.081041, 0.079373, 0.077721, 0.076084, 0.074464, 0.07286, 0.071271, 0.069699, 0.068143, 0.066604, 0.065081, 0.063574, 0.062084, 0.06061, 0.059153,\
  0.057712, 0.056288, 0.054881, 0.05349, 0.052117, 0.05076, 0.04942, 0.048098, 0.046792, 0.045503, 0.044232, 0.042978, 0.041741, 0.040521, 0.039319, 0.038134,\
  0.036966, 0.035816, 0.034683, 0.033568, 0.032471, 0.031391, 0.030329, 0.029285, 0.028258, 0.027249, 0.026258, 0.025285, 0.02433, 0.023392, 0.022473, 0.021572,\
  0.020688, 0.019823, 0.018976, 0.018147, 0.017336, 0.016544, 0.01577, 0.015014, 0.014276, 0.013556, 0.012855, 0.012173, 0.011508, 0.010862, 0.010235, 0.0096261,\
  0.0090357, 0.0084637, 0.0079104, 0.0073755, 0.0068593, 0.0063617, 0.0058827, 0.0054223, 0.0049806, 0.0045576, 0.0041532, 0.0037676, 0.0034007, 0.0030525, 0.002723,\
  0.0024123, 0.0021204, 0.0018473, 0.001593, 0.0013574, 0.0011407, 0.00094278, 0.0007637, 0.00060345, 0.00046204, 0.00033947, 0.00023575, 0.00015089, 8.4875e-05, 3.7723e-05, 9.4308e-06, 0}

#define hann_sqrt_1024_samples	{0, 0.003071, 0.0061419, 0.0092128, 0.012284, 0.015354, 0.018425, 0.021495, 0.024565, 0.027635, 0.030705, 0.033774, 0.036843, 0.039912, 0.04298,\
0.046048, 0.049116,	0.052183, 0.055249, 0.058315, 0.061381, 0.064445, 0.06751, 0.070573, 0.073636, 0.076699, 0.07976, 0.082821, 0.085881, 0.08894, 0.091999, 0.095056,\
0.098113, 0.10117, 0.10422, 0.10728, 0.11033, 0.11338, 0.11643, 0.11948, 0.12253, 0.12558, 0.12862, 0.13167, 0.13471, 0.13775, 0.14079, 0.14383, 0.14687, 0.14991,\
0.15295, 0.15598, 0.15901, 0.16204, 0.16507, 0.1681, 0.17113, 0.17415, 0.17718, 0.1802, 0.18322, 0.18623, 0.18925, 0.19227, 0.19528, 0.19829, 0.2013, 0.20431, 0.20731,\
0.21031, 0.21332, 0.21631, 0.21931, 0.22231, 0.2253, 0.22829, 0.23128, 0.23427, 0.23725, 0.24023, 0.24321, 0.24619, 0.24917, 0.25214, 0.25511, 0.25808, 0.26104, 0.26401,\
0.26697, 0.26993, 0.27288, 0.27583, 0.27878, 0.28173, 0.28468, 0.28762, 0.29056, 0.2935, 0.29643, 0.29936, 0.30229, 0.30522, 0.30814, 0.31106, 0.31398, 0.31689, 0.3198,\
0.32271, 0.32562, 0.32852, 0.33142, 0.33431, 0.33721, 0.3401, 0.34298, 0.34586, 0.34874, 0.35162, 0.35449, 0.35736, 0.36023, 0.36309, 0.36595, 0.36881, 0.37166, 0.37451,\
0.37736, 0.3802, 0.38304, 0.38587, 0.3887, 0.39153, 0.39436, 0.39718, 0.39999, 0.40281, 0.40561, 0.40842, 0.41122, 0.41402, 0.41681, 0.4196, 0.42239, 0.42517, 0.42795,\
0.43072, 0.43349, 0.43625, 0.43902, 0.44177, 0.44453, 0.44727, 0.45002, 0.45276, 0.45549, 0.45823, 0.46095, 0.46368, 0.4664, 0.46911, 0.47182, 0.47453, 0.47723, 0.47992,\
0.48261, 0.4853, 0.48798, 0.49066, 0.49334, 0.49601, 0.49867, 0.50133, 0.50398, 0.50663, 0.50928, 0.51192, 0.51456, 0.51719, 0.51981, 0.52243, 0.52505, 0.52766, 0.53027,\
0.53287, 0.53546, 0.53805, 0.54064, 0.54322, 0.5458, 0.54837, 0.55093, 0.55349, 0.55605, 0.5586, 0.56114, 0.56368, 0.56622, 0.56874, 0.57127, 0.57379, 0.5763, 0.57881,\
0.58131, 0.5838, 0.58629, 0.58878, 0.59126, 0.59373, 0.5962, 0.59866, 0.60112, 0.60357, 0.60602, 0.60846, 0.61089, 0.61332, 0.61574, 0.61816, 0.62057, 0.62298, 0.62537,\
0.62777, 0.63016, 0.63254, 0.63491, 0.63728, 0.63965, 0.642, 0.64435, 0.6467, 0.64904, 0.65137, 0.6537, 0.65602, 0.65834, 0.66064, 0.66295, 0.66524, 0.66753, 0.66981,\
0.67209, 0.67436, 0.67663, 0.67889, 0.68114, 0.68338, 0.68562, 0.68785, 0.69008, 0.6923, 0.69451, 0.69672, 0.69892, 0.70111, 0.7033, 0.70548, 0.70765, 0.70982, 0.71198,\
0.71413, 0.71628, 0.71841, 0.72055, 0.72267, 0.72479, 0.72691, 0.72901, 0.73111, 0.7332, 0.73529, 0.73736, 0.73943, 0.7415, 0.74356, 0.74561, 0.74765, 0.74968, 0.75171,\
0.75373, 0.75575, 0.75776, 0.75976, 0.76175, 0.76374, 0.76572, 0.76769, 0.76965, 0.77161, 0.77356, 0.7755, 0.77744, 0.77936, 0.78128, 0.7832, 0.7851, 0.787, 0.78889,\
0.79078, 0.79265, 0.79452, 0.79638, 0.79823, 0.80008, 0.80192, 0.80375, 0.80557, 0.80739, 0.8092, 0.811, 0.81279, 0.81458, 0.81635, 0.81812, 0.81989, 0.82164, 0.82339,\
0.82513, 0.82686, 0.82858, 0.83029, 0.832, 0.8337, 0.83539, 0.83708, 0.83875, 0.84042, 0.84208, 0.84374, 0.84538, 0.84702, 0.84864, 0.85026, 0.85188, 0.85348, 0.85508,\
0.85667, 0.85825, 0.85982, 0.86138, 0.86294, 0.86449, 0.86603, 0.86756, 0.86908, 0.8706, 0.8721, 0.8736, 0.87509, 0.87657, 0.87805, 0.87951, 0.88097, 0.88242, 0.88386,\
0.88529, 0.88672, 0.88813, 0.88954, 0.89094, 0.89233, 0.89371, 0.89508, 0.89645, 0.8978, 0.89915, 0.90049, 0.90182, 0.90315, 0.90446, 0.90577, 0.90706, 0.90835, 0.90963,\
0.9109, 0.91217, 0.91342, 0.91467, 0.9159, 0.91713, 0.91835, 0.91956, 0.92076, 0.92196, 0.92314, 0.92432, 0.92549, 0.92665, 0.9278, 0.92894, 0.93007, 0.93119, 0.93231,\
0.93342, 0.93451, 0.9356, 0.93668, 0.93775, 0.93881, 0.93987, 0.94091, 0.94195, 0.94297, 0.94399, 0.945, 0.946, 0.94699, 0.94797, 0.94895, 0.94991, 0.95087, 0.95181,\
0.95275, 0.95368, 0.9546, 0.95551, 0.95641, 0.9573, 0.95819, 0.95906, 0.95992, 0.96078, 0.96163, 0.96247, 0.96329, 0.96411, 0.96493, 0.96573, 0.96652, 0.9673, 0.96808,\
0.96884, 0.9696, 0.97035, 0.97108, 0.97181, 0.97253, 0.97324, 0.97394, 0.97463, 0.97532, 0.97599, 0.97665, 0.97731, 0.97796, 0.97859, 0.97922, 0.97984, 0.98045, 0.98105,\
0.98164, 0.98222, 0.98279, 0.98335, 0.98391, 0.98445, 0.98498, 0.98551, 0.98603, 0.98653, 0.98703, 0.98752, 0.988, 0.98847, 0.98893, 0.98938, 0.98982, 0.99025, 0.99068,\
0.99109, 0.99149, 0.99189, 0.99228, 0.99265, 0.99302, 0.99338, 0.99372, 0.99406, 0.99439, 0.99471, 0.99502, 0.99532, 0.99562, 0.9959, 0.99617, 0.99644, 0.99669, 0.99694,\
0.99717, 0.9974, 0.99761, 0.99782, 0.99802, 0.99821, 0.99839, 0.99856, 0.99872, 0.99887, 0.99901, 0.99914, 0.99926, 0.99938, 0.99948, 0.99957, 0.99966, 0.99973, 0.9998,\
0.99986, 0.9999, 0.99994, 0.99997, 0.99999, 1, 1, 0.99999, 0.99997, 0.99994, 0.9999, 0.99986, 0.9998, 0.99973, 0.99966, 0.99957, 0.99948, 0.99938, 0.99926, 0.99914, 0.99901,\
0.99887, 0.99872, 0.99856, 0.99839, 0.99821, 0.99802, 0.99782, 0.99761, 0.9974, 0.99717, 0.99694, 0.99669, 0.99644, 0.99617, 0.9959, 0.99562, 0.99532, 0.99502, 0.99471,\
0.99439, 0.99406, 0.99372, 0.99338, 0.99302, 0.99265, 0.99228, 0.99189, 0.99149, 0.99109, 0.99068, 0.99025, 0.98982, 0.98938, 0.98893, 0.98847, 0.988, 0.98752, 0.98703,\
0.98653, 0.98603, 0.98551, 0.98498, 0.98445, 0.98391, 0.98335, 0.98279, 0.98222, 0.98164, 0.98105, 0.98045, 0.97984, 0.97922, 0.97859, 0.97796, 0.97731, 0.97665, 0.97599,\
0.97532, 0.97463, 0.97394, 0.97324, 0.97253, 0.97181, 0.97108, 0.97035, 0.9696, 0.96884, 0.96808, 0.9673, 0.96652, 0.96573, 0.96493, 0.96411, 0.96329, 0.96247, 0.96163,\
0.96078, 0.95992, 0.95906, 0.95819, 0.9573, 0.95641, 0.95551, 0.9546, 0.95368, 0.95275, 0.95181, 0.95087, 0.94991, 0.94895, 0.94797, 0.94699, 0.946, 0.945, 0.94399, 0.94297,\
0.94195, 0.94091, 0.93987, 0.93881, 0.93775, 0.93668, 0.9356, 0.93451, 0.93342, 0.93231, 0.93119, 0.93007, 0.92894, 0.9278, 0.92665, 0.92549, 0.92432, 0.92314, 0.92196,\
0.92076, 0.91956, 0.91835, 0.91713, 0.9159, 0.91467, 0.91342, 0.91217, 0.9109, 0.90963, 0.90835, 0.90706, 0.90577, 0.90446, 0.90315, 0.90182, 0.90049, 0.89915, 0.8978,\
0.89645, 0.89508, 0.89371, 0.89233, 0.89094, 0.88954, 0.88813, 0.88672, 0.88529, 0.88386, 0.88242, 0.88097, 0.87951, 0.87805, 0.87657, 0.87509, 0.8736, 0.8721, 0.8706,\
0.86908, 0.86756, 0.86603, 0.86449, 0.86294, 0.86138, 0.85982, 0.85825, 0.85667, 0.85508, 0.85348, 0.85188, 0.85026, 0.84864, 0.84702, 0.84538, 0.84374, 0.84208, 0.84042,\
0.83875, 0.83708, 0.83539, 0.8337, 0.832, 0.83029, 0.82858, 0.82686, 0.82513, 0.82339, 0.82164, 0.81989, 0.81812, 0.81635, 0.81458, 0.81279, 0.811, 0.8092, 0.80739, 0.80557,\
0.80375, 0.80192, 0.80008, 0.79823, 0.79638, 0.79452, 0.79265, 0.79078, 0.78889, 0.787, 0.7851, 0.7832, 0.78128, 0.77936, 0.77744, 0.7755, 0.77356, 0.77161, 0.76965, 0.76769,\
0.76572, 0.76374, 0.76175, 0.75976, 0.75776, 0.75575, 0.75373, 0.75171, 0.74968, 0.74765, 0.74561, 0.74356, 0.7415, 0.73943, 0.73736, 0.73529, 0.7332, 0.73111, 0.72901,\
0.72691, 0.72479, 0.72267, 0.72055, 0.71841, 0.71628, 0.71413, 0.71198, 0.70982, 0.70765, 0.70548, 0.7033, 0.70111, 0.69892, 0.69672, 0.69451, 0.6923, 0.69008, 0.68785,\
0.68562, 0.68338, 0.68114, 0.67889, 0.67663, 0.67436, 0.67209, 0.66981, 0.66753, 0.66524, 0.66295, 0.66064, 0.65834, 0.65602, 0.6537, 0.65137, 0.64904, 0.6467, 0.64435,\
0.642, 0.63965, 0.63728, 0.63491, 0.63254, 0.63016, 0.62777, 0.62537, 0.62298, 0.62057, 0.61816, 0.61574, 0.61332, 0.61089, 0.60846, 0.60602, 0.60357, 0.60112, 0.59866,\
0.5962, 0.59373, 0.59126, 0.58878, 0.58629, 0.5838, 0.58131, 0.57881, 0.5763, 0.57379, 0.57127, 0.56874, 0.56622, 0.56368, 0.56114, 0.5586, 0.55605, 0.55349, 0.55093, 0.54837,\
0.5458, 0.54322, 0.54064, 0.53805, 0.53546, 0.53287, 0.53027, 0.52766, 0.52505, 0.52243, 0.51981, 0.51719, 0.51456, 0.51192, 0.50928, 0.50663, 0.50398, 0.50133, 0.49867,\
0.49601, 0.49334, 0.49066, 0.48798, 0.4853, 0.48261, 0.47992, 0.47723, 0.47453, 0.47182, 0.46911, 0.4664, 0.46368, 0.46095, 0.45823, 0.45549, 0.45276, 0.45002, 0.44727,\
0.44453, 0.44177, 0.43902, 0.43625, 0.43349, 0.43072, 0.42795, 0.42517, 0.42239, 0.4196, 0.41681, 0.41402, 0.41122, 0.40842, 0.40561, 0.40281, 0.39999, 0.39718, 0.39436,\
0.39153, 0.3887, 0.38587, 0.38304, 0.3802, 0.37736, 0.37451, 0.37166, 0.36881, 0.36595, 0.36309, 0.36023, 0.35736, 0.35449, 0.35162, 0.34874, 0.34586, 0.34298, 0.3401,\
0.33721, 0.33431, 0.33142, 0.32852, 0.32562, 0.32271, 0.3198, 0.31689, 0.31398, 0.31106, 0.30814, 0.30522, 0.30229, 0.29936, 0.29643, 0.2935, 0.29056, 0.28762, 0.28468,\
0.28173, 0.27878, 0.27583, 0.27288, 0.26993, 0.26697, 0.26401, 0.26104, 0.25808, 0.25511, 0.25214, 0.24917, 0.24619, 0.24321, 0.24023, 0.23725, 0.23427, 0.23128, 0.22829,\
0.2253, 0.22231, 0.21931, 0.21631, 0.21332, 0.21031, 0.20731, 0.20431, 0.2013, 0.19829, 0.19528, 0.19227, 0.18925, 0.18623, 0.18322, 0.1802, 0.17718, 0.17415, 0.17113,\
0.1681, 0.16507, 0.16204, 0.15901, 0.15598, 0.15295, 0.14991, 0.14687, 0.14383, 0.14079, 0.13775, 0.13471, 0.13167, 0.12862, 0.12558, 0.12253, 0.11948, 0.11643, 0.11338,\
0.11033, 0.10728, 0.10422, 0.10117, 0.098113, 0.095056, 0.091999, 0.08894, 0.085881, 0.082821, 0.07976, 0.076699, 0.073636, 0.070573, 0.06751, 0.064445, 0.061381, 0.058315,\
0.055249, 0.052183, 0.049116, 0.046048, 0.04298, 0.039912, 0.036843, 0.033774, 0.030705, 0.027635, 0.024565, 0.021495, 0.018425, 0.015354, 0.012284, 0.0092128, 0.0061419, 0.003071, 0}


void PhaseVocoder(int16_t *data, int8_t pitch);
void PhaseVocoderInit(void);
void FillInputTempBuffer(int16_t *data_to_process);
void PhaseVocoderAnalysis(void);
void PhaseVocoderModification(void);
void PhaseVocoderSynthesis(void);
void SplineInterp(void);
void FillOutputTempBuffer(int16_t *data_to_process);
float32_t Atan2_Approx(float32_t y, float32_t x);
